{% extends "base.html" %}

{% macro gen_group(group, placeholder='', name='') %}
    <div class="form-group {% if group.errors %}has-error{% endif %}">
        {%- for error in group.errors %}
        <label class="control-label">{{ error }}</label>
        {%- else %}
        {% if name %}{{ group.label(name) }}{% else %}{{ group.label() }}{% endif %}
        {%- endfor %}
        {% if placeholder %}{{ group(class='form-control', placeholder=placeholder) }}{% else %}{{ group(class='form-control') }}{% endif %}
    </div>
{% endmacro %}

{% block body %}
<div class="row>">
    <div class="col-sm-6">
        <h3>Settings for {{ current_user.name }}</h3>
        <form class="form-group" action="/login/settings" method="POST">
            {{ form.hidden_tag() }}

            {{ gen_group(form.name, 'Drew') }}

            {{ gen_group(form.email, '123@abc.com') }}

            {{ gen_group(form.phone_number, '123-456-7890') }}

            {{ form.email_me.label() }}:
            {{ form.email_me() }}
            

            <!-- TODO add password changer -->

            <br>
            <br>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>
    </div>
    <br>
    <div class="col-sm-6">
        {% for field in form %}
        {% if field.description %}{{ field.label()}}: {{ field.description }}<br>{% endif %}
        {% endfor %}
    </div>
</div>

{% endblock %}